---
title: å®æˆ˜é¢è¯•é¢˜åˆ†äº«
---

## é—®é¢˜
<!-- bytedance first-interview -->

- æµè§ˆå™¨è¾“å…¥ URL åˆ°é¡µé¢å±•ç¤ºçš„æ•´ä¸ªè¿‡ç¨‹ [å‚è§](/interview/summary/index.html#_2-%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5url%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F)
- è®²ä¸€ä¸‹å°ç¨‹åºåŒçº¿ç¨‹ï¼ˆå¤šçº¿ç¨‹ï¼‰
    - [å¾®ä¿¡å®˜æ–¹æ–‡æ¡£ â¡ï¸](https://developers.weixin.qq.com/miniprogram/dev/framework/workers.html) /// [å¦ä¸€ä¸ªè¯´æ˜æ–‡æ¡£ â¡ï¸](https://qunarcorp.github.io/anu/documents/two-threaded.html)
    - ä¸ Web ç½‘ç«™ç›¸æ¯”ï¼Œä»¥å¾®ä¿¡ä¸ºå®¿ä¸»çš„å°ç¨‹åºæ›´éœ€è¦è€ƒè™‘ **å®‰å…¨**ã€**æ€§èƒ½** ç­‰å› ç´ ï¼Œä¿éšœå°ç¨‹åºä¸ä¼šå¯¹å¾®ä¿¡Appæœ¬èº«äº§ç”Ÿå®‰å…¨éšæ‚£ï¼ŒåŒæ—¶è¦å°½é‡è¾¾åˆ°æ¥è¿‘åŸç”Ÿåº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚æ•…è€Œå°ç¨‹åºé‡‡ç”¨è‡ªå·±å®ç°çš„åŒçº¿ç¨‹æ¨¡å‹ï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨æµè§ˆå™¨çš„çº¿ç¨‹æ¨¡å‹
    - è¿™ç§æ¶æ„ä¸­ï¼Œå°ç¨‹åºçš„æ¸²æŸ“å±‚ä½¿ç”¨ WebView ä½œä¸ºæ¸²æŸ“è½½ä½“ï¼Œè€Œé€»è¾‘å±‚åˆ™ç”±ç‹¬ç«‹çš„ JsCore çº¿ç¨‹è¿è¡Œ JS è„šæœ¬ï¼ŒåŒæ–¹å¹¶ä¸å…·å¤‡æ•°æ®ç›´æ¥å…±äº«çš„é€šé“ï¼Œå› æ­¤æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚çš„é€šä¿¡è¦ç”± Native çš„ JSBrigde åšä¸­è½¬
    - Worker ä¸ä¸»çº¿ç¨‹ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼ŒåŒæ–¹ä½¿ç”¨ `Worker.postMessage()` æ¥å‘é€æ•°æ®ï¼Œ`Worker.onMessage()` æ¥æ¥æ”¶æ•°æ®ï¼Œä¼ è¾“çš„æ•°æ®å¹¶ä¸æ˜¯ç›´æ¥å…±äº«ï¼Œè€Œæ˜¯è¢«å¤åˆ¶çš„
- å°ç¨‹åºä¸ H5 çš„åŒºåˆ«
- å›¾ç‰‡æ‡’åŠ è½½æ–¹æ¡ˆ
- React Hook æœ‰å“ªäº›ï¼Ÿ => `useCallback` æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
- è¯´ä¸€ä¸‹é‡ç»˜ä¸é‡æ’ï¼Ÿ
- å¦‚ä½•è§£å†³ä¸Šä¸‹è¾¹è·ï¼ˆ`margin`ï¼‰åˆå¹¶çš„é—®é¢˜ï¼Ÿ
- DNS åŠ«æŒ
- React Fiberï¼ŸFiber å¯¹è±¡æœ‰å“ªäº›å±æ€§ï¼Ÿ

<!-- tencent first-interview -->

- react æºç éƒ¨åˆ†ï¼Œå¦‚ä½•å®Œæˆé¡µé¢æ¸²æŸ“ï¼Ÿå…³é”®æ­¥éª¤æœ‰å“ªäº›ï¼Ÿ
- `qiankun` å¾®åº”ç”¨æ–¹æ¡ˆï¼Ÿä¸ `iframe` çš„åŒºåˆ«ï¼Ÿ
- `qiankun` çš„è·¯ç”±åŒ¹é…åŸç†ï¼ˆæºç å±‚é¢ï¼‰
- `CI/CD` æµç¨‹æ–¹æ¡ˆ

## ä»£ç é¢˜

- æ‰‹å†™å®ç° `Promise.all()`ï¼š[å®ç°æ–¹æ¡ˆå‚è§ â¡ï¸](/knowledge/study/promise) - ByteDance
- æ‰‹å†™å®ç° `Promise.race()`ï¼š[å®ç°æ–¹æ¡ˆå‚è§ â¡ï¸](/knowledge/study/promise) - ByteDance
- ES5 å®ç°ç»§æ‰¿ï¼š[å®ç°æ–¹æ¡ˆå‚è§ â¡ï¸](/interview/summary/basis.html#åŸå‹é“¾çš„åº”ç”¨) - ByteDance
- å®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œè¾“å‡ºæ•°ç»„çš„å…¨æ’åˆ—æ–¹æ¡ˆï¼ˆ[LeetCode 46é¢˜](https://leetcode.cn/problems/permutations/)ï¼‰ï¼š - ByteDance

    ```js
    // è¾“å…¥ï¼š[1, 2, 3]
    /* è¾“å‡ºï¼š
    [
        [1, 2, 3],
        [1, 3, 2],
        [2, 1, 3],
        [2, 3, 1],
        [3, 2, 1],
        [3, 1, 2]
    ]
    */
    function solution(arr) {
      // achieve it
    }
    ```

- å®ç°ä¸€ä¸ªæ–¹æ³•ï¼Œç»Ÿè®¡æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼š - ByteDance

    ```js
    // è¾“å…¥ï¼š'((2 + 3) + (2 * 4)) + 2'
    /* è¾“å‡ºï¼š
    [
        '(2 + 3) + (2 * 4)',
        '2 + 3',
        '2 * 4'
    ]
    */
    function solution(str) {
      // achieve it
    }
    ```

- å®ç°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ— `TaskQueue`ï¼š

    ```js
    // æ”¯æŒæ·»åŠ ä»»åŠ¡ï¼Œå¯åŠ¨ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœæ­¢ä»»åŠ¡é˜Ÿåˆ—ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡
    // ä»»åŠ¡éƒ½æ˜¯å‡½æ•°ï¼Œæ”¯æŒå¼‚æ­¥å‡½æ•°ï¼Œæ”¯æŒè®¾ç½®æ¯ä¸ªä»»åŠ¡çš„æ‰§è¡Œç­‰å¾…æ—¶é—´
    class TaskQueue {
      add(fn: Function, time: number): TaskQueue
    }

    // è°ƒç”¨ç¤ºä¾‹ï¼š
    const task = new TaskQueue()
    task.start()
    task.add(() => console.log(1), 0)
    task.add(() => console.log(2), 1000)
    task.add(() => console.log(3), 2000)
    task.stop()
    
    // è¾“å‡ºï¼š
    1
    // ç­‰å¾…1000ms
    2
    // ç­‰å¾…2000ms
    3

    // å®ç°
    class TaskQueue {
      constructor() {
        this.tasks = []
      }
    
      add(fn, time) {
        this.tasks.push(() => {
          return new Promise((resolve) => {
            setTimeout(() => {
              fn()
              resolve()
            }, time)
          })
        })
        return this
      }
    
      start() {
        this.tasks.length = 0
      }
    
      stop() {
        // å¼€å¯ä»»åŠ¡
        if (this.tasks.length > 0) {
          // æ¯æ¬¡æ‹¿ä¸€ä¸ª
          const task = this.tasks.splice(0, 1)[0]
          task().then(() => {
            // é€’å½’
            this.stop()
          })
        }
      }
    }
    ```

- å®ç°ä¸€ä¸ª `convertTree` æ–¹æ³•ï¼š

    ```js
    // åŸæ•°æ®æ ¼å¼
    const data = [
      ['a1', 'b1', 'c1'],
      ['a1', 'b1', 'c2'],
      ['a1', 'b2', 'c1'],
      ['a1', 'b2', 'c2'],
    ]
    // è½¬æ¢åæ•°æ®æ ¼å¼ä¸ºï¼š
    // [
    //     {
    //         key: 'a1',
    //         children: [
    //             {
    //                 key: 'b1',
    //                 children: [{ key: 'c1' }, { key: 'c2' }]
    //             },
    //             {
    //                 key: 'b2',
    //                 children: [{ key: 'c1' }, { key: 'c2' }]
    //             }
    //         ]
    //     },
    // ]

    function convertTree(data) {
      // you need to achieve it here...
    }
    ```

- å®ç° `new` æ“ä½œç¬¦æ–¹æ³• ï¼ˆ[ç›¸å…³çŸ¥è¯†ç‚¹è¯¦è§ â¡ï¸](/interview/summary/basis.html#åŸå‹)ï¼‰

    ```js
    // æˆ‘ä»¬åå•†ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’æˆ‘ä»¬éœ€è¦ç”Ÿæˆå®ä¾‹çš„æ„é€ å‡½æ•°ï¼Œ
    // æ„é€ å‡½æ•°éœ€è¦çš„å‚æ•°ï¼Œåé¢ä¾æ¬¡ä¼ å…¥å³å¯
    function newFunc(Fn, ...args) {
      if (typeof Fn !== 'function') {
        throw new TypeError('The params of Fn is not a function')
      }
      if (!Fn.prototype) {
        throw new Error('The function doesnot have the prototype property')
      }
      // åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å®ƒçš„éšå¼åŸå‹æŒ‡å‘ æ„é€ å‡½æ•° Fn çš„åŸå‹
      const obj = Object.create(Fn.prototype)
      const res = Fn.call(obj, ...args)
      // const res = Fn.apply(obj, [...args])
      return (typeof res === 'object') ? res : obj
    }
    ```

- é—®é¢˜æè¿°å¦‚ä¸‹ï¼š

    ```js
    /**
    * æœ‰è´§èˆ¹éœ€è¦è¿è¾“ä¸€æ‰¹è´§ç‰©ï¼Œç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ weights å’Œä¸€ä¸ªæ­£æ•´æ•° Dï¼Œ
    * å…¶ä¸­ weights ä»£è¡¨ä¸€ç³»åˆ—è´§ç‰©ï¼Œå³ weights[i] çš„å€¼ä»£è¡¨ç¬¬ i ä»¶ç‰©å“çš„é‡é‡ï¼Œ
    * è´§ç‰©æ˜¯ä¸å¯åˆ†å‰²ä¸”å¿…é¡»æŒ‰é¡ºåºè¿è¾“ï¼Œè¯·è®¡ç®—è´§èˆ¹èƒ½å¤Ÿåœ¨ D å¤©å†…è¿å®Œæ‰€æœ‰è´§ç‰©çš„æœ€ä½è¿è½½èƒ½åŠ›
    * å‡½æ•°ç­¾åï¼š int shipWithinDays(int[] weights, int D)
    * ç¤ºä¾‹ï¼šweights = [1,2,3,4,5,6,7,8,9,10]  D = 5ï¼Œåˆ™å‡½æ•°è¿”å› 15
    */
    // å®ç°å¦‚ä¸‹ï¼š
    const weights = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]; const D = 5

    function getShipWithinDays(weights, days) {
      const len = weights.length
      // è´§ç‰©ä¸å¯åˆ†å‰²ï¼Œåˆ™èˆ¹ğŸš¢è‡³å°‘è¦èƒ½è£…ä¸‹æœ€å¤§è´§ç‰©
      const minWeight = Math.max(...weights) // æœ€å°è½½è´§
      // æœ€å°‘ä¸€å¤©è¿å®Œï¼Œåˆ™èˆ¹æœ€å¤§åªéœ€è¦è£…ä¸‹æ‰€æœ‰è´§ç‰©æ€»å’Œå³å¯
      const maxWeight = weights.reduce((pre, next) => (pre + next), 0) // æœ€å¤§è½½è´§
    
      // æœ€å°è½½è´§ => æœ€å¤§è½½è´§
      for (let weight = minWeight; weight <= maxWeight; weight++) {
        let dayCount = 1 // å¤©æ•°
        let curWeight = 0 // å½“å‰ç»Ÿè®¡è´¨é‡
        // éå†æ‰€æœ‰è´§ç‰©
        for (const item of weights) {
          curWeight += item
          if (curWeight === weight) {
            dayCount++
            curWeight = 0
          } else if (curWeight > weight) {
            dayCount++
            curWeight = item
          }
        }
        if (dayCount === days) {
          return weight
        }
      }
    }
    getShipWithinDays(weights, D)
    ```

- æ¶ˆé™¤ `å¼‚æ­¥å‡½æ•°çš„ä¼ æŸ“æ€§`ï¼Œä»¥ä¸‹é¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œå»é™¤ `async`ã€`await`ã€`then` ç­‰å¼‚æ­¥æ“ä½œ

    ```ts
    /**
     * æ¯”å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª getUsers çš„æ–¹æ³•è·å– users æ•°æ®
     * åœ¨åç»­ä¸€ç³»åˆ—å‡½æ•°ä¸­ï¼Œç›¸äº’ä¾èµ–çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå‡½æ•°éƒ½éœ€è¦
     * await æ¥ä¿è¯é¡ºåˆ©æ‹¿åˆ°å¯¹åº”çš„æ•°æ®
     */
    function getUsers() {
      // ä¹±ç¼–çš„ url
      return fetch('https://suressk.com/get/users?id=xxx')
        .then(resp => resp.json())
    }
    async function func1() {
      // do something
      return await getUsers()
    }
    async function func2() {
      // do something
      return await func1()
    }
    async function func3() {
      // do something
      return await func2()
    }
    async function main() {
      const users = await func3()
      console.log(users)
    }
    ```

    è¦æ¶ˆé™¤å¼‚æ­¥ï¼Œæˆ‘ä»¬åªèƒ½åœ¨ `fetch` æ–¹æ³•é‚£æ­¥å»å¤„ç†ï¼Œä½† `fetch` æ–¹æ³•æ˜¯ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå‘èµ·ç½‘ç»œè¯·æ±‚æ²¡æ³•ç«‹å³ç»“æŸï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½é€šè¿‡æ‰‹åŠ¨ **`æŠ›é”™`** æ¥ç«‹å³ç»“æŸå®ƒï¼Œä½†åŒæ—¶æˆ‘ä»¬ç­‰åˆ°è¯·æ±‚æ•°æ®ç»“æŸæ—¶ç¼“å­˜è¯·æ±‚æ‹¿åˆ°çš„æ•°æ®ï¼Œå†é‡æ–°æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œäº¤ä»˜ç¼“å­˜çš„ æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å¤„ç†ï¼š

    ```ts
    function getUsers() {
      // ä¹±ç¼–çš„ url
      return fetch('https://suressk.com/get/users?id=xxx')
    }
    function func1() {
      // do something
      return getUsers()
    }
    function func2() {
      // do something
      return func1()
    }
    function func3() {
      // do something
      return func2()
    }
    function main() {
      const users = func3()
      console.log(users)
    }

    // ä¸»é€»è¾‘å®ç°
    function run(func) {
      const cache = []
      let idx = 0
      const _originFetch = window.fetch
      window.fetch = (...args) => {
        // å‘½ä¸­ç¼“å­˜ï¼Œäº¤ä»˜æ•°æ®
        if (cache[idx].status === 'fulfilled') {
          return cache[idx].data
        } else if (cache[idx].status === 'rejected') {
          throw cache[idx].err
        }
        // ç¼“å­˜æ•°æ®
        const result = {
          status: 'pending',
          data: null,
          err: null
        }
        cache[idx++] = result
        // å‘é€è¯·æ±‚
        const prom = _originFetch(...args).then(resp => resp.json())
          .then((data) => {
            result.data = data
            result.status = 'fulfilled'
          })
          .catch((err) => {
            result.err = err
            result.status = 'rejected'
          })
        // æŠ›é”™
        throw prom
      }
      try {
        func()
      } catch (e) {
        if (e instanceof Promise) {
          const reRun = () => {
            idx = 0
            func()
          }
          e.then(reRun, reRun)
        }
      }
    }

    run(main) // è°ƒç”¨ä¸Šé¢çš„ main æ–¹æ³•
    ```
