<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä»£ç è§„èŒƒ | K.island âœ¨</title>
    <meta name="description" content="K.'s island">
    <link rel="stylesheet" href="/assets/style.019f39fc.css">
    <link rel="modulepreload" href="/assets/Home.7f051d33.js">
    <link rel="modulepreload" href="/assets/app.108cc30f.js">
    <link rel="modulepreload" href="/assets/knowledge_engineering_lint.md.19fb12b1.lean.js">
    <link rel="modulepreload" href="/assets/app.108cc30f.js">
    <link rel="icon" href="/favicon.ico" sizes="64x64">
    <link rel="apple-touch-icon-precomposed" href="/favicon.ico" sizes="64x64">
    <link rel="msapplication-square64x64logo" href="/favicon.ico" sizes="64x64">
    <meta name="twitter:title" content="ä»£ç è§„èŒƒ | K.island âœ¨">
    <meta property="og:title" content="ä»£ç è§„èŒƒ | K.island âœ¨">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="K.island âœ¨, back to home" data-v-675d8756 data-v-4a583abe><!----> K.island âœ¨</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/mood/index" data-v-b8818f8c>Mood <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/knowledge/index" data-v-b8818f8c>Knowledge <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/interview/index" data-v-b8818f8c>Interview <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/algorithm/index" data-v-b8818f8c>Algorithm <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/suressk" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/mood/index" data-v-b8818f8c>Mood <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/knowledge/index" data-v-b8818f8c>Knowledge <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/interview/index" data-v-b8818f8c>Interview <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/algorithm/index" data-v-b8818f8c>Algorithm <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/suressk" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Introduction</p><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Study Note</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/study/jsEventLoop">JS EventLoop</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/study/promise">Promise</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/study/vueNextTick">Vue NextTick</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/study/algorithm">Algorithm</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vite</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/vite/index">Vite åŸç†ç®€ä»‹</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/vite/vitejs">ä» vite åˆ° createServer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/vite/resolveConfig">resolveConfig</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/vite/esbuild">ä¾èµ–é¢„æ„å»º</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/vite/plugin">æ’ä»¶æœºåˆ¶</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">React</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/react/index">React ç¬”è®°æ–‡ç«  - æ˜é‡‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/react/fiber">React Fiber</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Engineering</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/engineering/webpack">webpack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/engineering/loaderAndPlugin">webpack Loader &amp; plugin</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/engineering/tapable">webpack Tapable</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/engineering/hotUpdate">webpack çƒ­æ›´æ–°</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/knowledge/engineering/compare">æ‰“åŒ…å·¥å…·å¯¹æ¯”</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/knowledge/engineering/lint">ä»£ç è§„èŒƒ</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#lint">Lint</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#commit-è§„èŒƒ">Commit è§„èŒƒ</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#æ–¹æ¡ˆä¸€ï¼šhusky-commitlint">æ–¹æ¡ˆä¸€ï¼šhusky+commitlint</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ–¹æ¡ˆäºŒï¼šyorkie-verifycommits-jsï¼ˆå®è·µå‘ç°å¹¶ä¸èƒ½è§¦å‘-githooksï¼‰">æ–¹æ¡ˆäºŒï¼šyorkie+verifyCommits.jsï¼ˆå®è·µå‘ç°å¹¶ä¸èƒ½è§¦å‘ gitHooksï¼‰</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ–¹æ¡ˆä¸‰ï¼šç»“åˆ-husky-å’Œè‡ªå®šä¹‰-verifycommits-js">æ–¹æ¡ˆä¸‰ï¼šç»“åˆ husky å’Œè‡ªå®šä¹‰ verifyCommits.js</a><!----></li></ul></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p><code>ä»£ç è§„èŒƒ</code> æ˜¯ <code>å‰ç«¯å·¥ç¨‹åŒ–</code> è½åœ°çš„åŸºçŸ³ï¼Œç”¨äºçº¦æŸ <code>ç¼–ç è§„èŒƒ</code> å’Œ <code>ç¼–ç é£æ ¼</code>ï¼Œå®ƒçš„å¥½å¤„æ˜¯ï¼š</p><ul><li>å¼ºåˆ¶è§„èŒƒä»£ç é£æ ¼ç»Ÿä¸€ï¼Œä¿æŒä¸€æ ·çš„ç¼–ç ä¹ æƒ¯</li><li>å¢åŠ ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ¥å…¥æ€§ï¼Œå³ä½¿æœ‰æ–°æˆå‘˜çš„åŠ å…¥ä¹Ÿèƒ½å¿«é€Ÿé€‚åº”é¡¹ç›®çš„æ¶æ„ä¸éœ€æ±‚</li><li>ä¿éšœé¡¹ç›®çš„æ•´ä½“è´¨é‡ï¼Œå¯å‡å°‘æ— ç”¨ä»£ç ã€é‡å¤ä»£ç ã€é”™è¯¯ä»£ç å’Œ <code>BUG</code> ä»£ç çš„äº§ç”Ÿå‡ ç‡</li></ul><p>æˆ‘ä»¬é€šè¿‡é…ç½®ä»£ç æ ¡éªŒå·¥å…·ï¼ˆç®€ç§° <code>Lint</code>ï¼‰æ¥æ£€æµ‹ä»£ç ä¸­çš„é”™è¯¯å’Œæ¼æ´ï¼Œå†æ ¹æ®å…¶æä¾›çš„ä¿®å¤æ–¹æ¡ˆæ ¼å¼åŒ–å‡ºæ­£ç¡®ä»£ç ã€‚å®ç°ä¿å­˜ä»£ç æ—¶ä¸€é”®æ ¡éªŒï¼Œç»Ÿä¸€é¡¹ç›®çš„ç¼–ç è§„èŒƒå’Œç¼–ç é£æ ¼</p><h2 id="lint" tabindex="-1">Lint <a class="header-anchor" href="#lint" aria-hidden="true">#</a></h2><p><code>Lint</code> å…¶å®å°±æ˜¯ç¼–è¾‘å™¨ä¸­è¿è¡Œçš„ä¸€ä¸ª <code>è„šæœ¬è¿›ç¨‹</code>ï¼Œå®ƒä¼šå°†ä»£ç è§£æä¸º <code>AST æŠ½è±¡è¯­æ³•æ ‘</code> ğŸŒ²ï¼Œå†é€šè¿‡éå†è¯­æ³•æ ‘å¹¶é€šè¿‡é¢„è®¾è§„åˆ™å»è¿›è¡Œåˆ¤æ–­å’Œæ”¹åŠ¨ï¼Œå†å°†æ›´æ–°åçš„è¯­æ³•æ ‘è½¬æ¢ä¸ºï¼ˆå°½é‡ï¼‰è§„èŒƒåŒ–çš„ä»£ç </p><blockquote><p>å¾…å®Œå–„ï½</p></blockquote><h2 id="commit-è§„èŒƒ" tabindex="-1">Commit è§„èŒƒ <a class="header-anchor" href="#commit-è§„èŒƒ" aria-hidden="true">#</a></h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>Git</code> æ‰˜ç®¡ä»£ç æ—¶ï¼Œè§„èŒƒåŒ–çš„ <code>Commit Message</code> å¯ä»¥å¸®åŠ©å¤§å®¶ç›´è§‚æ¸…æ™°åœ°ç†è§£æ¯æ¬¡ä¿®æ”¹çš„å†…å®¹ï¼Œä¸ä»…èƒ½å¸®åŠ©åˆ«äºº <code>Review</code>ï¼Œè¿˜å¯ä»¥æœ‰æ•ˆåœ°è¾“å‡º <code>ChangeLog</code>ã€‚é‚£ä¹ˆè¦æƒ³å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®æ›´æ˜“äºç»´æŠ¤ï¼Œæœ€å¥½æœ‰ä¸€å¥— <code>Git</code> æäº¤è¯´æ˜çš„ <code>è§„èŒƒåŒ–æ¨¡æ¿</code></p><p>ç›®å‰æœ€å—å¼€å‘äººå‘˜è‚¯å®šçš„è§„èŒƒæ˜¯å‰ç«¯æ¡†æ¶ <code>Angular</code> æå‡ºçš„ <a href="https://zj-git-guide.readthedocs.io/zh_CN/latest/message/Angular%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF%E8%A7%84%E8%8C%83/" target="_blank" rel="noopener noreferrer">Angularæäº¤ä¿¡æ¯è§„èŒƒ ğŸ”—</a>ï¼ŒåŒ…å« <code>Header</code>ï¼ˆå¿…å¡«ï¼‰ã€<code>Body</code> å’Œ <code>Footer</code> ä¸‰ä¸ªéƒ¨åˆ†çš„å†…å®¹ï¼Œæäº¤æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-shell"><pre><code><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span>: <span class="token operator">&lt;</span>subject<span class="token operator">&gt;</span>
<span class="token comment"># ç©ºè¡Œ</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token comment"># ç©ºè¡Œ</span>
<span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
</code></pre></div><ol><li><p><code>Header</code> ä½œä¸€è¡Œä¹¦å†™ï¼ŒåŒ…å« <code>type</code>ï¼Œ<code>scope</code>ï¼Œ<code>subject</code> ä¸‰ä¸ªå­—æ®µçš„å†…å®¹</p><ul><li><p><code>type</code>ï¼šç”¨äºè¯´æ˜ commit æäº¤ç±»å‹ï¼ˆå¿…å¡«ï¼‰</p><ul><li><code>feat</code>ï¼šæ–°å¢åŠŸèƒ½</li><li><code>fix</code>ï¼šBugä¿®å¤</li><li><code>docs</code>ï¼šæ–‡æ¡£æ›´æ–°</li><li><code>ci</code>ï¼šè„šæœ¬æ›´æ–°ï¼Œä¿®æ”¹äº† CI é…ç½®æ–‡ä»¶æˆ–è„šæœ¬</li><li><code>pref</code>ï¼šæ€§èƒ½ä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹</li><li><code>build</code>ï¼šæ›´æ–°æ„å»ºï¼Œæ„å»ºç³»ç»Ÿæˆ–è€…å¤–éƒ¨ä¾èµ–é¡¹è¿›è¡Œäº†ä¿®æ”¹ã€æ›´æ–°</li><li><code>test</code>ï¼šæ–°å¢æµ‹è¯•ï¼Œå¢åŠ ç¡®å®çš„æµ‹è¯•æˆ–è€…çŸ«æ­£å·²å­˜åœ¨çš„æµ‹è¯•</li><li><code>refactor</code>ï¼šä»£ç é‡æ„ï¼Œéæ–°å¢åŠŸèƒ½ä¹Ÿéä¿®å¤ç¼ºé™·</li><li><code>chore</code>ï¼šäº‹åŠ¡å˜åŠ¨ï¼Œæ”¹åŠ¨å…¶ä»–ä¸å½±å“ä»£ç çš„äº‹åŠ¡</li><li><code>revert</code>ï¼šä»£ç å›æ»šï¼Œæ’¤é”€æŸæ¬¡ä»£ç æäº¤</li><li><code>merge</code>ï¼šåˆ†æ”¯åˆå¹¶ï¼Œåˆå¹¶åˆ†æ”¯ä»£ç åˆ°å…¶ä»–åˆ†æ”¯</li><li><code>style</code>ï¼šæ ¼å¼å˜åŠ¨ï¼Œä¸å½±å“ä»£ç é€»è¾‘</li><li><code>release</code>ï¼šç‰ˆæœ¬å‘å¸ƒ</li></ul></li><li><p><code>scope</code>ï¼šç”¨äºè¯´æ˜ commit çš„å½±å“èŒƒå›´ï¼ˆé€‰å¡«ï¼‰ï¼ˆæ¯”å¦‚æŒ‰ä¸‹é¢è¿™äº›åˆ’åˆ†æ–¹æ¡ˆå¡«å†™ï¼‰</p><ul><li>æŒ‰åŠŸèƒ½åˆ’åˆ†ï¼ˆå¦‚ï¼šæ•°æ®å±‚ - <code>Data</code>ã€è§†å›¾å±‚ - <code>View</code>å’Œæ§åˆ¶å±‚ - <code>Control</code>ï¼‰</li><li>æŒ‰äº¤äº’å±‚åˆ’åˆ†ï¼ˆå¦‚ï¼šç»„ä»¶ - <code>Component</code>ã€å¸ƒå±€ - <code>Layout</code>ã€æµç¨‹ - <code>Flow</code>ã€è§†å›¾ - <code>View</code>å’Œé¡µé¢ - <code>Page</code>ï¼‰</li><li>æŒ‰æ”¹åŠ¨æ–‡ä»¶åˆ’åˆ†ï¼ˆå¦‚ï¼šæŸä¸ªæ–‡ä»¶ - <code>Button.tsx</code>ï¼Œå…¨éƒ¨æ”¹åŠ¨ -<code>*</code>ï¼‰</li></ul></li><li><p><code>subject</code>ï¼šç”¨äºè¯´æ˜ commit çš„ç»†èŠ‚æè¿°ï¼ˆé€‰å¡«ï¼‰ã€‚ä»¥ç²¾ç‚¼ç®€æ´çš„æ–‡å­—ï¼ˆä¸­æ–‡è¿˜æ˜¯è‹±æ–‡å°±çœ‹å„è‡ªè§„å®šäº†ï¼Œä¸€èˆ¬æ¨èä½¿ç”¨è‹±æ–‡ï¼‰è¯´æ˜æäº¤çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚å¯ä»¥éµå¾ªè¿™äº›è§„åˆ™ï¼š</p><ul><li>ä»¥åŠ¨è¯å¼€å¤´ï¼ˆå¦‚ï¼š<code>update</code>ï¼Œ<code>æ›´æ–°</code>ï¼‰</li><li>ä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶</li><li>é¦–å­—æ¯æ— éœ€å¤§å†™ï¼Œé‡ç‚¹åŒºåˆ†çš„ï¼ˆå¦‚æŸç»„ä»¶ï¼‰é¦–å­—æ¯æ— éœ€å¤§å†™</li><li>ä¸ä»¥å¥å·ï¼ˆ<code>.</code> / <code>ã€‚</code>ï¼‰ç»“å°¾</li></ul></li></ul><p><code>commit</code> ä¿¡æ¯ç¤ºä¾‹ï¼š</p><div class="language-git"><pre><code>feat(Component): add Layout component
feat(Button.tsx): change the default size of the button
fix(EmitEvent): handle event on blur (closes #28)
</code></pre></div></li><li><p><code>Body</code> éƒ¨åˆ†å¯ä¹¦å†™å¤šè¡Œï¼Œå¯¹ <code>subject</code> åšæ›´è¯¦å°½çš„æè¿°ï¼Œå†…å®¹åº”åŒ…æ‹¬ <code>æ”¹åŠ¨åŠ¨æœº</code> ä¸ <code>æ”¹åŠ¨å‰åå¯¹æ¯”</code></p></li><li><p><code>Footer</code> éƒ¨åˆ†åªé€‚ç”¨ä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ <code>ä¸å…¼å®¹å˜åŠ¨</code> ä¸ <code>é—®é¢˜å…³é—­</code></p><ul><li><strong>ä¸å…¼å®¹å˜åŠ¨</strong>ï¼šå½“å‰ä»£ç ä¸ä¸Šä¸€ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œåˆ™ä»¥ <code>BREAKING CHANGE</code> å¼€å¤´ï¼Œå…³è”å˜åŠ¨æè¿°ã€å˜åŠ¨ç†ç”±å’Œè¿ç§»æ–¹æ³•</li><li><strong>é—®é¢˜å…³é—­</strong>ï¼šå½“å‰ä»£ç å·²ä¿®å¤æŸäº› <code>Issue</code>ï¼Œåˆ™ä»¥ <code>Closes</code> å¼€å¤´ï¼Œå…³è”ç›®æ ‡ <code>Issue</code></li></ul></li></ol><h3 id="æ–¹æ¡ˆä¸€ï¼šhusky-commitlint" tabindex="-1">æ–¹æ¡ˆä¸€ï¼š<code>husky</code>+<code>commitlint</code> <a class="header-anchor" href="#æ–¹æ¡ˆä¸€ï¼šhusky-commitlint" aria-hidden="true">#</a></h3><ul><li><p>å®‰è£…</p><div class="language-shell"><pre><code><span class="token function">pnpm</span> i husky @commitlint/cli @commitlint/config-conventional -D
</code></pre></div></li><li><p>åˆå§‹åŒ– <code>husky</code>ï¼Œåˆ›å»º <code>.husky</code> æ–‡ä»¶å¤¹</p><div class="language-shell"><pre><code>npx husky <span class="token function">install</span>
<span class="token comment"># å®‰è£… git hooksï¼Œåˆ›å»º .husky ç›®å½•</span>
<span class="token comment"># ç»“æœï¼šhusky - Git hooks installed</span>

<span class="token comment"># æ‰§è¡Œ</span>
npx husky-init

<span class="token comment"># å®ƒä¼šåœ¨ package.json æ–‡ä»¶çš„ scripts å­—æ®µä¸­</span>
<span class="token comment"># åˆ›å»º &quot;prepare&quot;: &quot;husky install&quot; å‘½ä»¤</span>
<span class="token comment"># åŒæ—¶åœ¨ .husky ç›®å½•ä¸‹åˆ›å»º pre-commit æ–‡ä»¶</span>
<span class="token comment"># ç»“æœï¼šhusky - created .husky/pre-commit</span>
</code></pre></div></li><li><p>åœ¨ <code>.husky</code> ç›®å½•ä¸‹æ·»åŠ  <code>commit-msg</code> hook</p><div class="language-shell"><pre><code>npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&#39;npx --no -- commitlint --edit &quot;$1&quot;&#39;</span>
</code></pre></div><div class="language-shell"><pre><code><span class="token comment"># ç»“æœï¼šhusky - created .husky/commit-msg</span>
<span class="token comment"># .husky/commit-msg æ–‡ä»¶å†…å®¹ï¼š</span>

<span class="token comment">#!/usr/bin/env sh</span>
<span class="token builtin class-name">.</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> -- <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span><span class="token variable">)</span></span>/_/husky.sh&quot;</span>

npx --no -- commitlint --edit <span class="token string">&quot;&quot;</span>
</code></pre></div></li><li><p>åœ¨ <code>package.json</code> é…ç½® <code>hooks</code></p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/* commit ä¿¡æ¯æäº¤å‰ä¼šæ‰§è¡Œæ­¤ scriptï¼Œè‹¥æœªé…ç½®æ­¤å‘½ä»¤ï¼Œå°†ä¼šè·³è¿‡ */</span>
      <span class="token property">&quot;pre-commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run test&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commitlint -e $HUSKY_GIT_PARAMS&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>åˆ›å»º <code>commitlint.config.js</code> æ–‡ä»¶å¤¹</p><div class="language-js"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@commitlint/config-conventional&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul><p>è‡³æ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬é…å¥½äº† <code>git commit</code> å‘½ä»¤ä¼šæ‰§è¡Œé»˜è®¤çš„æ£€æµ‹æ–¹æ¡ˆã€‚å½“ç„¶ï¼Œè¿™é‡Œæˆ‘å¹¶æœªæ·±å…¥æµ‹è¯•æ›´å¤šï¼š</p><div class="language-shell"><pre><code><span class="token function">git</span> commit -m <span class="token string">&quot;t&quot;</span>

<span class="token operator">&gt;</span> xxx@0.0.0 <span class="token builtin class-name">test</span>
<span class="token operator">&gt;</span> node index.js <span class="token comment"># é…ç½®çš„ test å‘½ä»¤</span>

test<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token comment"># index.js å°±ä¸€å¥: console.log(&#39;test......&#39;)</span>
â§—   input: t
âœ–   subject may not be empty <span class="token punctuation">[</span>subject-empty<span class="token punctuation">]</span>
âœ–   <span class="token builtin class-name">type</span> may not be empty <span class="token punctuation">[</span>type-empty<span class="token punctuation">]</span>

âœ–   found <span class="token number">2</span> problems, <span class="token number">0</span> warnings
â“˜   Get help: https://github.com/conventional-changelog/commitlint/<span class="token comment">#what-is-commitlint</span>

husky - commit-msg hook exited with code <span class="token number">1</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span>
</code></pre></div><h3 id="æ–¹æ¡ˆäºŒï¼šyorkie-verifycommits-jsï¼ˆå®è·µå‘ç°å¹¶ä¸èƒ½è§¦å‘-githooksï¼‰" tabindex="-1">æ–¹æ¡ˆäºŒï¼š<code>yorkie</code>+<code>verifyCommits.js</code>ï¼ˆå®è·µå‘ç°å¹¶ä¸èƒ½è§¦å‘ gitHooksï¼‰ <a class="header-anchor" href="#æ–¹æ¡ˆäºŒï¼šyorkie-verifycommits-jsï¼ˆå®è·µå‘ç°å¹¶ä¸èƒ½è§¦å‘-githooksï¼‰" aria-hidden="true">#</a></h3><p>ç»“åˆä¸Šé¢çš„ä»£ç è§„èŒƒ <code>Lint</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>pre-commit</code> hook ä¸­è¿›è¡Œä»£ç æ ¼å¼åŒ–ï¼Œ<code>commit-msg</code> hook æˆ‘ä»¬å¯ä»¥æ‰§è¡Œæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ js æ–‡ä»¶å»æ ¡éªŒ <code>commit</code> ä¿¡æ¯æ˜¯å¦ç¬¦åˆæˆ‘ä»¬å®šä¹‰çš„ <code>commit è§„èŒƒ</code></p><ul><li><p>å®‰è£…</p><div class="language-shell"><pre><code><span class="token function">pnpm</span> i yorkie lint-staged chalk eslint prettier @typescript-eslint/parser -D
</code></pre></div><ul><li><code>yorkie</code>ï¼š<code>EvanYou</code> fork <code>husky</code> çš„ä¸€ä¸ª <code>npm</code> åŒ…ï¼ˆä¸å…¼å®¹ <code>husky</code>ï¼‰</li><li><code>lint-staged</code>ï¼šå®ƒä»…æ˜¯ä¸€ä¸ªæ–‡ä»¶è¿‡æ»¤å™¨ï¼Œè¿™é‡Œçš„ staged æ˜¯ä¸ Git ä¸­çš„æ¦‚å¿µä¸€è‡´çš„ï¼Œè¿‡æ»¤å‡º <code>Git</code> ä»£ç æš‚å­˜åŒºçš„ä»£ç ï¼ˆ<code>committed</code> çš„ä»£ç ï¼‰</li><li><code>chalk</code>ï¼šä¸€ä¸ªå¤šå½©çš„ <code>log</code> è®°å½•å·¥å…·</li><li><code>eslint</code>ï¼Œ<code>prettier</code>ï¼šä¸Šé¢çš„ <code>Lint</code> å·¥å…·</li><li><code>@typescript-eslint/parser</code>ï¼šç”¨äºè§£ææ ¼å¼åŒ– <code>typescript</code> ä»£ç </li></ul></li><li><p>é…ç½® <code>hooks</code> ï¼ˆ<code>package.json</code>ï¼‰</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;gitHooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/* è§¦å‘æ ¼å¼åŒ– */</span>
    <span class="token property">&quot;pre-commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">/* æˆ‘ä»¬è‡ªå®šä¹‰çš„æ ¡éªŒ commit ä¿¡æ¯çš„ js æ–‡ä»¶ */</span>
    <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node scripts/verifyCommit.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;*.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;prettier --write&quot;</span> <span class="token comment">/* ç»“åˆ .prettierrc æ–‡ä»¶å£°æ˜æ ¼å¼ */</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*.ts?(x)&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint&quot;</span><span class="token punctuation">,</span> <span class="token comment">/* ç»“åˆ .eslintrc.js æ–‡ä»¶å£°æ˜æ ¼å¼ */</span>
      <span class="token string">&quot;prettier --parser=typescript --write&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p><strong><code>verifyCommits.js</code></strong></p><div class="language-js"><pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span> bgRed<span class="token punctuation">,</span> red<span class="token punctuation">,</span> green <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;chalk&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> msgPath <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GIT_PARAMS</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>msgPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/* commit ä¿¡æ¯è§„åˆ™ï¼Œ */</span>
<span class="token keyword">const</span> commitRE <span class="token operator">=</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(revert: )?(feat|fix|docs|dx|style|refactor|perf|test|workflow|build|ci|chore|types|wip|release)(\(.+\))?: .{1,50}</span><span class="token regex-delimiter">/</span></span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>commitRE<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>bgRed<span class="token punctuation">.</span><span class="token function">white</span><span class="token punctuation">(</span><span class="token string">&#39; ERROR &#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">red</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">invalid commit message format.</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      <span class="token function">red</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  Proper commit message format is required for automated changelog generation. Examples:\n\n</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">feat(compiler): add &#39;comments&#39; option</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">green</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">fix(Input.tsx): handle events on blur (close #28)</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      <span class="token function">red</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  See .github/commit-convention.md for more details.\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul><p>è‡³æ­¤ï¼Œå·²ç»å®Œæˆ yorkie é…ç½®ï¼Œä½†å®é™…æµ‹è¯•æäº¤ commit æ—¶ï¼Œå¹¶ä¸èƒ½è§¦å‘ <code>pre-commit</code> å’Œ <code>commit-msg</code> hookï¼Œå¯èƒ½æ˜¯æˆ‘å“ªé‡Œä½¿ç”¨çš„å§¿åŠ¿ä¸å¯¹å§ï¼ï¼ˆæ•…æ”¾å¼ƒï¼‰</p><h3 id="æ–¹æ¡ˆä¸‰ï¼šç»“åˆ-husky-å’Œè‡ªå®šä¹‰-verifycommits-js" tabindex="-1">æ–¹æ¡ˆä¸‰ï¼šç»“åˆ husky å’Œè‡ªå®šä¹‰ verifyCommits.js <a class="header-anchor" href="#æ–¹æ¡ˆä¸‰ï¼šç»“åˆ-husky-å’Œè‡ªå®šä¹‰-verifycommits-js" aria-hidden="true">#</a></h3><ul><li><p>å®‰è£…</p><div class="language-shell"><pre><code><span class="token function">pnpm</span> i husky lint-staged eslint prettier chalk -D
<span class="token comment"># å¤ªé•¿ï¼Œåˆ†ä¸¤è¡Œä¹¦å†™ï¼Œä¸‹é¢çš„æ˜¯å¯¹ ts æ–‡ä»¶æ ¼å¼åŒ–çš„æ’ä»¶</span>
<span class="token function">pnpm</span> i @typescript-eslint/parser @typescript-eslint/eslint-plugin -D
</code></pre></div><div class="language-shell"><pre><code>npx husky <span class="token function">install</span> <span class="token comment"># å®‰è£… .husky ç›®å½•</span>
npx husky-init <span class="token comment"># åˆ›å»º pre-commit hook</span>
</code></pre></div></li><li><p>ä¿®æ”¹ <code>.husky/pre-commit</code> æ–‡ä»¶ï¼š</p><div class="language-sh"><pre><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

# npm test  # è¿™å¥åˆ æ‰ï¼Œæ”¹ä¸ºä¸‹é¢è¿™è¡Œï¼Œè¿›è¡Œä»£ç æ ¼å¼åŒ–æ£€æµ‹
npx lint-staged
</code></pre></div></li><li><p>æ·»åŠ  <code>commit-msg</code> hook</p><div class="language-sh"><pre><code># scripts/verifyCommits.js å³ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„æ ¡éªŒæ–‡ä»¶
npx husky add .husky/commit-msg &#39;node scripts/verifyCommits.js &quot;$1&quot;&#39;
</code></pre></div><p><strong>âš ï¸ï¼š</strong> <strong><code>$1</code></strong> å¿…é¡»åœ¨ <code>.husky/commit-msg</code> æ–‡ä»¶ä¸­å†™ä¸Šï¼ˆåœ¨æˆ‘ä»¬ä½¿ç”¨ <code>git commit -m &quot;[msg]&quot;</code> æ—¶ï¼Œä¼šä¼ é€’ç»™ <code>$1</code> å‚æ•°ï¼‰ï¼Œå¦åˆ™æˆ‘ä»¬æ‰§è¡Œè‡ªå®šä¹‰æ ¡éªŒ commit æ–‡ä»¶æ—¶æ˜¯æ— æ³•æ‹¿åˆ° commit ä¿¡æ¯çš„ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-sh"><pre><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

node scripts/verifyCommits.js &quot;$1&quot;
</code></pre></div></li><li><p>åˆ›å»º <code>scripts/verifyCommits.js</code> æ–‡ä»¶ï¼š</p><div class="language-js"><pre><code><span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;chalk&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// const msgPath = process.<wbr>env.GIT_PARAMS // æ­¤ä¸º undefined æ‹¿ä¸åˆ° msg ä¿¡æ¯</span>
<span class="token keyword">const</span> msgPath <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>msgPath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span>bgBlueBright<span class="token punctuation">.</span><span class="token function">white</span><span class="token punctuation">(</span><span class="token string">&#39;Commit Msg: &#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>

<span class="token keyword">const</span> commitRE <span class="token operator">=</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(revert: )?(feat|fix|docs|dx|style|refactor|perf|test|workflow|build|ci|chore|types|wip|release)(\(.+\))?: .{1,50}</span><span class="token regex-delimiter">/</span></span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>commitRE<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span>bgRed<span class="token punctuation">.</span><span class="token function">white</span><span class="token punctuation">(</span><span class="token string">&#39; ERROR &#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">invalid commit message format.</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  Proper commit message format is required for automated changelog generation. Examples:\n\n</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">feat(compiler): add &#39;comments&#39; option</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">fix(input): handle events on blur (close #28)</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n\n</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  See .github/commit-convention.md for more details.\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>é…ç½® <code>package.json</code> æ–‡ä»¶å†…å®¹ï¼ˆå®é™…ä¸Šè¿™é‡Œé…ä¸é…éƒ½ä¸å½±å“ï¼Œå®é™…æ‰§è¡Œçš„ä¾æ—§æ˜¯ <code>.husky</code> ç›®å½•ä¸‹çš„ hook æ–‡ä»¶ï¼Œä¸ºäº†åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­ç›´è§‚å±•ç¤ºï¼Œæˆ‘ä»¬å°†å…¶åŒæ­¥ï¼‰</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token comment">/* husky hooks ä¸é…ä¹Ÿä¸å½±å“ */</span>
  <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/* commit ä¿¡æ¯æäº¤å‰ä¼šæ‰§è¡Œæ­¤ scriptï¼Œè‹¥æœªé…ç½®æ­¤å‘½ä»¤ï¼Œå°†ä¼šè·³è¿‡ */</span>
      <span class="token property">&quot;pre-commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lint-staged&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node scripts/verifyCommits.js&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/* lint-staged å¿…é¡»é…ç½® */</span>
  <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;*.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;prettier --write&quot;</span> <span class="token comment">/* ç»“åˆ .prettierrc æ–‡ä»¶å£°æ˜æ ¼å¼ */</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*.ts?(x)&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint&quot;</span><span class="token punctuation">,</span> <span class="token comment">/* ç»“åˆ .eslintrc.js æ–‡ä»¶å£°æ˜æ ¼å¼ */</span>
      <span class="token string">&quot;prettier --parser=typescript --write&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>åˆ›å»º <code>.eslintrc.js</code> æ–‡ä»¶å’Œ <code>.pretterrc</code> æ–‡ä»¶ä¸­å†™ä¸Š</p><div class="language-js"><pre><code><span class="token comment">// .eslintrc.js æ–‡ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  env<span class="token operator">:</span> <span class="token punctuation">{</span>
    browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    es2021<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;plugin:@typescript-eslint/recommended&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  parser<span class="token operator">:</span> <span class="token string">&#39;@typescript-eslint/parser&#39;</span><span class="token punctuation">,</span>
  parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    ecmaVersion<span class="token operator">:</span> <span class="token string">&#39;latest&#39;</span><span class="token punctuation">,</span>
    sourceType<span class="token operator">:</span> <span class="token string">&#39;module&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@typescript-eslint&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js"><pre><code><span class="token comment">// .pretterrc æ–‡ä»¶</span>
semi<span class="token operator">:</span> <span class="token boolean">false</span>
singleQuote<span class="token operator">:</span> <span class="token boolean">true</span>
printWidth<span class="token operator">:</span> <span class="token number">80</span>
trailingComma<span class="token operator">:</span> <span class="token string">&#39;none&#39;</span>
arrowParens<span class="token operator">:</span> <span class="token string">&#39;avoid&#39;</span>
</code></pre></div></li></ul><p>é…ç½®å®Œæ¯•ï¼Œæˆ‘ä»¬è¯•è¯•å§</p><div class="language-shell"><pre><code>â¡ï¸ <span class="token function">git</span> commit -m <span class="token string">&quot;tes: é”™è¯¯ç¤ºä¾‹ ğŸ™…&lt;200d&gt;â™‚ï¸&quot;</span>

âœ” Preparing lint-staged<span class="token punctuation">..</span>.
âœ” Running tasks <span class="token keyword">for</span> staged files<span class="token punctuation">..</span>.
âœ” Applying modifications from tasks<span class="token punctuation">..</span>.
âœ” Cleaning up temporary files<span class="token punctuation">..</span>.

Commit Msg:  tes: é”™è¯¯ç¤ºä¾‹ ğŸ™…â€â™‚ï¸

   ERROR  invalid commit message format.

  Proper commit message <span class="token function">format</span> is required <span class="token keyword">for</span> automated changelog generation. Examples:

    feat<span class="token punctuation">(</span>compiler<span class="token punctuation">)</span>: <span class="token function">add</span> <span class="token string">&#39;comments&#39;</span> option
    fix<span class="token punctuation">(</span>input<span class="token punctuation">)</span>: handle events on blur <span class="token punctuation">(</span>close <span class="token comment">#28)</span>

  See .github/commit-convention.md <span class="token keyword">for</span> <span class="token function">more</span> details.

husky - commit-msg hook exited with code <span class="token number">1</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span>
</code></pre></div><p>å½“ç„¶ï¼Œæ•´ä½“æ¥è¯´ä¹Ÿåªæ˜¯ä¸€ä¸ªæ¨èæ€§çš„è§„èŒƒæ–¹æ¡ˆï¼Œ<code>commit</code> åŒæ ·å¯ä»¥é€šè¿‡ <code>-n</code> æˆ–è€…æ˜¯ <code>-no-verify</code> ç›´æ¥ç»•å¼€ <code>commit</code> æ£€æµ‹</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/suressk/edit/deploy/docs/knowledge/engineering/lint.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/knowledge/engineering/compare" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>æ‰“åŒ…å·¥å…·å¯¹æ¯”</span></a></div><div class="next" data-v-38ede35f><!----></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"algorithm_index.md\":\"07455bd8\",\"algorithm_summary_complexity.md\":\"e4314726\",\"algorithm_summary_merge.md\":\"a507b0d1\",\"algorithm_summary_stack.md\":\"8fd5ef65\",\"index.md\":\"3d5aec8a\",\"interview_index.md\":\"c153c384\",\"interview_summary_actual.md\":\"a1779721\",\"interview_summary_basis.md\":\"27c2b06e\",\"interview_summary_index.md\":\"d781eb41\",\"interview_summary_internet.md\":\"a2564cc0\",\"interview_summary_optimization.md\":\"0ac8276c\",\"interview_summary_strands.md\":\"3ba97aa1\",\"knowledge_engineering_compare.md\":\"063d6596\",\"knowledge_engineering_hotupdate.md\":\"1bb6f4e3\",\"knowledge_engineering_lint.md\":\"19fb12b1\",\"knowledge_engineering_loaderandplugin.md\":\"eaa60404\",\"knowledge_engineering_tapable.md\":\"2e488879\",\"knowledge_engineering_webpack.md\":\"ae3d15f0\",\"knowledge_index.md\":\"52114bbe\",\"knowledge_react_fiber.md\":\"4c59546e\",\"knowledge_react_index.md\":\"8c7e7774\",\"knowledge_study_algorithm.md\":\"dab2c708\",\"knowledge_study_jseventloop.md\":\"4b6487b1\",\"knowledge_study_promise.md\":\"0e207524\",\"knowledge_study_vuenexttick.md\":\"995fc51a\",\"knowledge_vite_esbuild.md\":\"b8f6e42d\",\"knowledge_vite_index.md\":\"8b37f38e\",\"knowledge_vite_plugin.md\":\"052e8900\",\"knowledge_vite_resolveconfig.md\":\"3a3c4bd6\",\"knowledge_vite_vitejs.md\":\"e2a412f7\",\"mood_autumn.md\":\"451c0477\",\"mood_chinaintheclassics.md\":\"4856dd65\",\"mood_dragonboatfestival.md\":\"b123aaa5\",\"mood_fate.md\":\"fe10bc78\",\"mood_feels.md\":\"ca7dc171\",\"mood_index.md\":\"29226340\",\"mood_loneliness.md\":\"032d272e\",\"mood_spring.md\":\"182d4c2d\",\"mood_wind.md\":\"069112ed\",\"mood_yearend.md\":\"4607e7ea\"}")</script>
    <script type="module" async src="/assets/app.108cc30f.js"></script>
    
  </body>
</html>