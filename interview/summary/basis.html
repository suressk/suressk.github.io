<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 基础 | K.island ✨</title>
    <meta name="description" content="K.'s island">
    <link rel="stylesheet" href="/assets/style.019f39fc.css">
    <link rel="modulepreload" href="/assets/Home.f1e28741.js">
    <link rel="modulepreload" href="/assets/app.dccebf5c.js">
    <link rel="modulepreload" href="/assets/interview_summary_basis.md.51c14dd9.lean.js">
    <link rel="modulepreload" href="/assets/app.dccebf5c.js">
    <link rel="icon" href="/favicon.ico" sizes="64x64">
    <link rel="apple-touch-icon-precomposed" href="/favicon.ico" sizes="64x64">
    <link rel="msapplication-square64x64logo" href="/favicon.ico" sizes="64x64">
    <meta name="twitter:title" content="JavaScript 基础 | K.island ✨">
    <meta property="og:title" content="JavaScript 基础 | K.island ✨">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="K.island ✨, back to home" data-v-675d8756 data-v-4a583abe><!----> K.island ✨</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/mood/index" data-v-b8818f8c>Mood <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/knowledge/index" data-v-b8818f8c>Knowledge <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/interview/index" data-v-b8818f8c>Interview <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/algorithm/index" data-v-b8818f8c>Algorithm <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/suressk" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/" data-v-b8818f8c>Home <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/mood/index" data-v-b8818f8c>Mood <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/knowledge/index" data-v-b8818f8c>Knowledge <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/interview/index" data-v-b8818f8c>Interview <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/algorithm/index" data-v-b8818f8c>Algorithm <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/suressk" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Introduction</p><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Knowledge Summary</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/interview/summary/basis">JavaScript 基础</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#js-基础">JS 基础</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#原型、原型链">原型、原型链</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#原型">原型</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#原型链">原型链</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#原型链的应用">原型链的应用</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#函数柯里化">函数柯里化</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/summary/internet">网络基础</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/summary/actual">实战面试题</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/summary/index">八股文（一）</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/summary/strands">八股文（二）</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/summary/optimization">八股文（三）</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="js-基础" tabindex="-1">JS 基础 <a class="header-anchor" href="#js-基础" aria-hidden="true">#</a></h2><ol><li><p>基本数据类型：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>Symbol</code>、<code>Undefined</code>、<code>Null</code></p></li><li><p>引用数据类型：<code>Function</code>、<code>Array</code>、<code>Object</code>、<code>RegExp</code>、<code>Date</code></p></li><li><p><code>typeof</code> 的返回值：</p><div class="language-js"><pre><code><span class="token keyword">typeof</span> <span class="token number">1</span>            <span class="token comment">// ===&gt; &#39;number&#39;</span>
<span class="token keyword">typeof</span> <span class="token string">&#39;1&#39;</span>          <span class="token comment">// ===&gt; &#39;string&#39;</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span>         <span class="token comment">// ===&gt; &#39;boolean&#39;</span>
<span class="token keyword">const</span> symbolVal <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">typeof</span> symbolVal    <span class="token comment">// ===&gt; &#39;symbol&#39;</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span>    <span class="token comment">// ===&gt; &#39;undefined&#39;</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span>         <span class="token comment">// ===&gt; &#39;object&#39; *** (null 表示空对象指针)</span>

<span class="token keyword">const</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">typeof</span> func         <span class="token comment">// ===&gt; &#39;function&#39;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">typeof</span> arr          <span class="token comment">// ===&gt; &#39;object&#39;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">typeof</span> obj          <span class="token comment">// ===&gt; &#39;object&#39;</span>
</code></pre></div><p>在 <code>Array</code> 和 <code>Object</code> 无法用 <code>typeof</code> 区分的情况下，可以借助 静态方法<code>Array.isArray()</code> 和 <code>Object.prototype.toString()</code> 方法进行判定：</p><div class="language-js"><pre><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token comment">// 1. 方案一</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// true</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 2. 方案二</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// &#39;[object Array]&#39;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// &#39;[object Object]&#39;</span>
</code></pre></div></li><li><p>判断某个变量是一个 <code>数组</code></p><div class="language-js"><pre><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p><strong><code>Array.isArray()</code></strong></p><div class="language-js"><pre><code>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li><li><p><strong><code>toString</code></strong></p><div class="language-js"><pre><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li><li><p><strong><code>isPrototypeOf()</code></strong></p><div class="language-js"><pre><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li><li><p><strong><code>constructor</code></strong></p><div class="language-js"><pre><code><span class="token comment">// 不推荐直接访问 __proto__ 属性</span>
<span class="token comment">// arr.__proto__.constructor === Array; // true</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token comment">// true</span>
<span class="token comment">// 或者</span>
arr<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li><li><p><strong><code>instanceof</code></strong></p><div class="language-js"><pre><code>arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">// true 一般不推荐使用</span>
</code></pre></div></li></ul></li><li><p>this 指向</p><ul><li><p>全局环境中的 this 指向全局对象(window)(ES5也是)</p></li><li><p>函数中的 this，由调用函数的方式来决定</p><ul><li><p>如果函数是独立调用，在严格模式下，this 指向 <code>undefined</code>，而不是全局对象；非严格模式下，this 指向 <code>window</code></p></li><li><p>如果函数是被某个对象调用，那 this 指向被调用的这个对象。</p></li></ul></li><li><p>构造函数里的 this 及原型里的 this 对象，指向的都是生成的实例，即由 new 决定的</p></li></ul></li><li><p><em><strong>new的作用：</strong></em></p><ol><li>创建一个新对象</li><li>将构造函数的 this 指向这个新对象</li><li>返回这个新对象</li></ol><p>实现 <code>new</code> 操作符方法</p><div class="language-js"><pre><code><span class="token comment">// 我们协商第一个参数传递我们需要生成实例的构造函数，</span>
<span class="token comment">// 构造函数需要的参数，后面依次传入即可</span>
<span class="token keyword">function</span> <span class="token function">newFunc</span><span class="token punctuation">(</span><span class="token parameter">Fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Fn <span class="token operator">!==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;The first param is not a function&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;The function doesnot have the prototype property&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 创建一个对象，并将它的隐式原型指向 构造函数 Fn 的原型</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token comment">// const res = Fn.apply(obj, [...args])</span>
    <span class="token comment">// 存在 Fn 函数自己返回一个对象（原型指向 Object.prototype)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> res <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> res <span class="token operator">:</span> obj
<span class="token punctuation">}</span>
</code></pre></div></li></ol><h2 id="原型、原型链" tabindex="-1">原型、原型链 <a class="header-anchor" href="#原型、原型链" aria-hidden="true">#</a></h2><h3 id="原型" tabindex="-1">原型 <a class="header-anchor" href="#原型" aria-hidden="true">#</a></h3><blockquote><p>JavaScript 常被描述为一种<strong>基于原型的语言 (prototype-based language)</strong>——每个对象拥有一个<strong>原型对象</strong>，对象以其原型为模板、从原型继承方法和属性</p></blockquote><blockquote><p>所有的对象都是通过 <code>new 函数</code> 来创建的，<br> 即使是 <code>const arr = []</code> 的写法，本质上是通过 <code>new Array()</code> 来创建的；<br><code>function fn() {}</code> 的写法，本质上是通过 <code>new Function()</code> 来创建的；<br> 所有的函数，本质上也是对象</p></blockquote><ul><li><p><span style="color:red;font-weight:bold;">所有的函数「非箭头函数」</span>都有一个属性：<code>prototype</code>，它被称之为 <strong>函数原型</strong></p><ul><li>默认情况下，<code>prototype</code> 是一个普通的 <code>Object</code> 对象</li><li>函数原型里面有一个属性 <code>constructor</code>，默认情况下它指向 <strong>构造函数本身</strong>，如下：</li></ul><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Man</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token comment">// 可以得到：</span>
<span class="token comment">// Person.prototype.constructor === Person 为 true</span>
<span class="token comment">// Man.prototype.constructor === Man 为 true</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p>引申问题：下面的代码，变量 <code>p</code> 的构造函数是什么？</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 结论：由于构造函数 Person 返回了一个对象</span>
<span class="token comment">//      new 操作符得到的对象会是其返回的结果</span>
<span class="token comment">//      因而会将 p 的构造函数指向 Object</span>
<span class="token comment">// 那么就有：</span>
<span class="token comment">// p.constructor === Object 为 true</span>
<span class="token comment">// p.constructor === Person 为 false</span>
</code></pre></div></li><li><p><span style="color:red;font-weight:bold;">所有的对象</span>都有一个属性：<code>__proto__</code>，称之为 <code>隐式原型 </code>；默认情况下，它指向创建该对象的函数的原型，从而就有： <code>p.__proto__ === Person.prototype 为 true</code></p></li></ul><blockquote><p>对象的原型（可以通过 <code>Object.getPrototypeOf(obj)</code> 或者已被弃用的 <code>__proto__</code> 属性获得）与构造函数的 <code>prototype</code> 属性之间的区别是很重要的。前者是 <strong>每个实例</strong> 上都有的属性，后者是 <strong>构造函数</strong> 的属性</p></blockquote><p>如下关系图所示：</p><p><img src="/images/prototype.png" alt="原型图解"></p><h3 id="原型链" tabindex="-1">原型链 <a class="header-anchor" href="#原型链" aria-hidden="true">#</a></h3><blockquote><p>原型对象也可能拥有原型，并从中继承方法和属性，一层一层、以此类推，这种关系常被称为<strong>原型链 (prototype chain)</strong></p></blockquote><p>特殊点：</p><ul><li><p><code>Function</code> 的隐式原型指向自己的原型：<code>Function.__proto__ === Function.prototype</code> （上面我们知道：<code>Person.__proto__ !== Person.prototype</code>）</p></li><li><p><code>Object</code> 原型的隐式原型指向 <code>null</code>：<code>Object.prototype.__proto__ === null</code></p></li></ul><p>关系图如下：</p><p><img src="/images/proto_chain.png" alt="原型链关系图示"></p><p>面试题：</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> u1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> u2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;K.&#39;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u1<span class="token punctuation">.</span>sayHello <span class="token operator">===</span> u2<span class="token punctuation">.</span>sayHello<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// User Function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>User<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>User<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> u2<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> User<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="原型链的应用" tabindex="-1">原型链的应用 <a class="header-anchor" href="#原型链的应用" aria-hidden="true">#</a></h3><h4 id="基础方法" tabindex="-1">基础方法 <a class="header-anchor" href="#基础方法" aria-hidden="true">#</a></h4><p>W3C 不推荐直接使用系统成员属性 <code>__proto__</code></p><ul><li><p>获取对象的隐式原型：<strong><code>Object.getPrototypeOf(对象)</code></strong> （Object 对象的静态方法）</p><div class="language-js"><pre><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 获取 person 对象的 __proto__ 属性值</span>
<span class="token comment">// 得到的结果等价于： person.__proto__ </span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
</code></pre></div></li><li><p>判断当前对象是否在指定对象的原型链上：<strong><code>Object.prototype.isPrototypeOf(当前对象)</code></strong></p><div class="language-js"><pre><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// Object原型是否在 person 实例的原型链上</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// obj 是否在 person 实例的原型链上</span>
obj<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// false</span>
person<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token comment">// 得到 obj 的隐式原型，这里即是 Object原型</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div></li><li><p>判断某个对象的原型链上有没有目标函数的原型：<strong><code>对象 instanceof 函数</code></strong></p><div class="language-js"><pre><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token comment">// true</span>
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true 一般不推荐此方案</span>
</code></pre></div></li><li><p>从指定原型去创建一个新对象：<strong><code>Object.create(原型)</code></strong></p><div class="language-js"><pre><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>

<span class="token comment">// 则 person 实例是对象 obj 的原型</span>
person<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 那么 obj.__proto__ 就没有 constructor 属性了，但访问时会沿着</span>
<span class="token comment">// 原型链继续向上寻找，得到 Person 构造函数</span>
</code></pre></div></li><li><p>判断对象是否具有自身的属性：<strong><code>Object.prototype.hasOwnProperty(属性名)</code></strong></p><div class="language-js"><pre><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> o <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
person<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>   <span class="token comment">//true</span>
o<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>        <span class="token comment">// false</span>

<span class="token comment">// 我们在遍历对象时，也会循环出原型链上的属性</span>
o<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
o<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string">&#39;Shenzhen&#39;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> prop <span class="token keyword">in</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(prop)</span>
    <span class="token comment">// 这会打印出：</span>
    <span class="token comment">// age, city, name</span>

    <span class="token comment">// 我们如果加一层判断</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span>
        <span class="token comment">// 只会打印出对象 o 自身的属性：</span>
        <span class="token comment">// age, city</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>在 Javascript 中， <code>属性</code> 由一个字符串类型的 <code>“名字”（name）</code> 和一个 <code>“属性描述符”（property descriptor）对象</code> 构成</p></blockquote><p>这里你会发现 原型链 上的属性有那么多，为什么 <code>for...in...</code> 循环遍历出来的属性却很少呢？这就跟 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noopener noreferrer">属性描述符</a> 有关了</p><p>我们知道 <code>vue2</code> 的响应式原理就是基于 <code>Object.defineProperty()</code> 来进行数据劫持的</p><div class="language-js"><pre><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#39;x的值&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 与 get &amp; set 不能同时存在</span>
    writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 当前属性是否可以被重写覆盖</span>
    configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 当前属性是否可以重新配置，是否能被删除</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 当前属性是否可被枚举（也就是能否被遍历出来）</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>我们可以通过 <strong><code>Object.getOwnPropertyDescriptor(obj, prop)</code></strong> 来获取目标对象 <code>(obj)</code> 目标属性 <code>(prop)</code> 的 <code>属性描述符对象</code></p></li></ul><h4 id="应用" tabindex="-1">应用 <a class="header-anchor" href="#应用" aria-hidden="true">#</a></h4><ul><li><p>类数组转换为真数组：<strong><code>Array.prototype.slice.call(类数组)</code></strong>，ES6 新增 <strong><code>Array.from()</code></strong> 也可以实现</p><div class="language-js"><pre><code><span class="token keyword">const</span> nodeList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> nodeArr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nodeList<span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>nodeList<span class="token punctuation">)</span> <span class="token comment">// false</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>nodeArr<span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div></li><li><p>ES5 实现 <strong>继承</strong> （ES6 有 <code>class ... extends</code>）：</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">inherit</span> <span class="token punctuation">(</span><span class="token parameter">Son<span class="token punctuation">,</span> Father</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 以父级原型创建对象</span>
    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
    <span class="token comment">// 将子类原型 constructor 指向 子类（子函数）</span>
    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son
    <span class="token comment">// 添加 uber 属性，方便访问父类原型</span>
    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>uber <span class="token operator">=</span> <span class="token class-name">Father</span><span class="token punctuation">.</span>prototype
    <span class="token comment">// 或者与大家协商，改写为：</span>
    <span class="token comment">// Son.prototype.uber = Father</span>
    <span class="token comment">// 方便子类调用 this.uber() 来初始化，而不用手动调用 父类.call</span>
<span class="token punctuation">}</span>

<span class="token comment">// 旧版的继承实现方案</span>
<span class="token comment">/**
 * const inherit = (function() {
 *    // 通过闭包声明一个可重用的空函数
 *    const F = function () {}
 *    return function (Son, Father) {
 *         F.prototype = Father.prototype
 *         Son.prototype = new F()
 *         Son.prototype.constructor = Son
 *         Son.prototype.uber = Father.prototype
 *    }
 * }())
*/</span>
<span class="token comment">// 使用</span>
<span class="token comment">// User 类</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName
    <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
<span class="token punctuation">}</span>
<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello! 我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>fullName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// VipUser 类</span>
<span class="token keyword">function</span> <span class="token function">VipUser</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> money</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this.firstName = firstName</span>
    <span class="token comment">// this.lastName = lastName</span>
    <span class="token comment">// this.age = age</span>
    <span class="token comment">// this.fullName = this.firstName + &#39; &#39; + this.lastName</span>
    <span class="token comment">// 为避免上述重复代码的书写，我们可以使 VipUser 继承自 User</span>
    <span class="token function">User</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money
<span class="token punctuation">}</span>

<span class="token function">inherit</span><span class="token punctuation">(</span>VipUser<span class="token punctuation">,</span> User<span class="token punctuation">)</span> <span class="token comment">// 先继承，再添加自定义原型方法</span>

<span class="token class-name">VipUser</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">upgrade</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">-=</span> <span class="token number">10</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;已升级，消耗 ¥10&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;S&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;K&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> vUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VipUser</span><span class="token punctuation">(</span><span class="token string">&#39;Saul&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;K&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
u<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ...</span>
u<span class="token punctuation">.</span><span class="token function">upgrade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ... is not a function</span>
vUser<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ...</span>
vUser<span class="token punctuation">.</span><span class="token function">upgrade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 已升级，消耗 ¥10</span>
</code></pre></div></li></ul><h2 id="函数柯里化" tabindex="-1">函数柯里化 <a class="header-anchor" href="#函数柯里化" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token comment">/**
 * @description: 通用柯里化工具函数
 * @param {Function} fn 待柯里化的函数
 * @param {array} args 已经接收的参数列表
 * @return {Function}
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">currying</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// fn需要的参数个数</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> fn<span class="token punctuation">.</span>length
  <span class="token comment">// 返回一个函数接收剩余参数</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 拼接已经接收和新接收的参数列表</span>
      <span class="token keyword">const</span> _args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>params<span class="token punctuation">]</span>
      <span class="token comment">// 如果已经接收的参数个数还不够，继续返回一个新函数接收剩余参数</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">currying</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token operator">...</span>_args<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
     <span class="token comment">// 参数全部接收完调用原函数</span>
      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> _args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token operator">+</span> d
<span class="token punctuation">}</span>

<span class="token keyword">const</span> curryingAdd <span class="token operator">=</span> <span class="token function">currying</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>

<span class="token comment">// 我们就可以像下面这种方式进行调用</span>
<span class="token comment">// 参数不够的情况下，执行结果的返回值还是一个函数</span>
<span class="token function">curryingAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 10</span>
<span class="token function">curryingAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 10</span>
<span class="token function">curryingAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 10</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/suressk/edit/deploy/docs/interview/summary/basis.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><!----></div><div class="next" data-v-38ede35f><a class="link" href="/interview/summary/internet" data-v-38ede35f><span class="text" data-v-38ede35f>网络基础</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"algorithm_index.md\":\"e6b9c870\",\"algorithm_summary_complexity.md\":\"e3ada1d6\",\"index.md\":\"f86d30b5\",\"interview_index.md\":\"8ad79ea5\",\"interview_summary_actual.md\":\"9de7b2fe\",\"interview_summary_basis.md\":\"51c14dd9\",\"interview_summary_index.md\":\"56e32fed\",\"interview_summary_internet.md\":\"ffff8467\",\"interview_summary_optimization.md\":\"13ac8ef5\",\"interview_summary_strands.md\":\"a4884626\",\"knowledge_index.md\":\"fc96db21\",\"knowledge_react_index.md\":\"469682bf\",\"knowledge_study_algorithm.md\":\"9b868399\",\"knowledge_study_jseventloop.md\":\"96992734\",\"knowledge_study_promise.md\":\"95183d3b\",\"knowledge_study_vuenexttick.md\":\"2fd90d99\",\"knowledge_vite_esbuild.md\":\"b95c216e\",\"knowledge_vite_index.md\":\"c6e0b642\",\"knowledge_vite_plugin.md\":\"f0240b1b\",\"knowledge_vite_resolveconfig.md\":\"49e139e2\",\"knowledge_vite_vitejs.md\":\"dd3f3384\",\"mood_autumn.md\":\"5f94d64f\",\"mood_chinaintheclassics.md\":\"acd42d21\",\"mood_christmas.md\":\"0960e227\",\"mood_dragonboatfestival.md\":\"240ceba8\",\"mood_feels.md\":\"b83bcdde\",\"mood_index.md\":\"7b6851c1\",\"mood_loneliness.md\":\"ac364f42\",\"mood_spring.md\":\"5bc4905b\",\"mood_wind.md\":\"398ee97f\",\"mood_yearend.md\":\"49370fa7\"}")</script>
    <script type="module" async src="/assets/app.dccebf5c.js"></script>
    
  </body>
</html>