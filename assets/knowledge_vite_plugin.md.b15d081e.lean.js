import{_ as n,c as e,o,b as a}from"./app.4cb0f5bd.js";const g='{"title":"vite plugin - \u63D2\u4EF6\u673A\u5236","description":"","frontmatter":{"title":"vite plugin - \u63D2\u4EF6\u673A\u5236"},"relativePath":"knowledge/vite/plugin.md","lastUpdated":1654218401085}',s={},t=a(`__VP_STATIC_START__<p>plugin \u662F vite \u7684\u6838\u5FC3\u529F\u80FD\uFF0C\u901A\u8FC7 plugin \u5B9E\u73B0\u9884\u6784\u5EFA\u8D44\u6E90\u8DEF\u5F84\u66FF\u6362\u3001\u89E3\u6790 alias\u3001\u8F6C\u8BD1 js\u3001\u8F6C\u8BD1 css\u3001\u6CE8\u5165 define\u3001\u6CE8\u5165 hmr \u8F85\u52A9\u4EE3\u7801\u7B49\u529F\u80FD</p><blockquote><p><a href="https://cn.vitejs.dev/guide/using-plugins.html" target="_blank" rel="noopener noreferrer">vite \u53EF\u4EE5\u4F7F\u7528\u63D2\u4EF6\u8FDB\u884C\u6269\u5C55\uFF0C\u8FD9\u5F97\u76CA\u4E8E Rollup \u4F18\u79C0\u7684\u63D2\u4EF6\u63A5\u53E3\u8BBE\u8BA1\u548C\u4E00\u90E8\u5206 Vite \u72EC\u6709\u7684\u989D\u5916\u9009\u9879\u3002\u8FD9\u610F\u5473\u7740 Vite \u7528\u6237\u53EF\u4EE5\u5229\u7528 Rollup \u63D2\u4EF6\u7684\u5F3A\u5927\u751F\u6001\u7CFB\u7EDF\uFF0C\u540C\u65F6\u6839\u636E\u9700\u8981\u4E5F\u80FD\u591F\u6269\u5C55\u5F00\u53D1\u670D\u52A1\u5668\u548C SSR \u529F\u80FD</a></p></blockquote><h5 id="\u672C\u7BC7\u76EE\u6807" tabindex="-1">\u672C\u7BC7\u76EE\u6807 <a class="header-anchor" href="#\u672C\u7BC7\u76EE\u6807" aria-hidden="true">#</a></h5><ol><li><p>plugin \u7684\u5404\u4E2A hook \u51FD\u6570\u7684\u4F5C\u7528</p></li><li><p>vite \u72EC\u6709\u7684 hook \u51FD\u6570\u7684\u6267\u884C\u65F6\u95F4</p></li><li><p>\u5185\u7F6E\u7684\u63D2\u4EF6\u5982\u4F55\u4F7F vite \u5BF9\u5404\u79CD\u6587\u4EF6\u5F00\u7BB1\u5373\u7528</p></li><li><p>\u6240\u6709\u63D2\u4EF6\u673A\u4E2D\u4E4B\u540E\u5404\u4E2A hook \u51FD\u6570\u7684\u4F7F\u7528\u6D41\u7A0B</p></li></ol><p><strong><a href="https://vite-rollup-plugins.patak.dev/" target="_blank" rel="noopener noreferrer">vite \u63D2\u4EF6</a>\u57FA\u4E8E <a href="https://rollupjs.org/guide/en/#plugin-development" target="_blank" rel="noopener noreferrer">rollup \u63D2\u4EF6</a>\uFF0C\u63D2\u4EF6\u7684 hook \u51FD\u6570\u8FD4\u56DE\u503C\u548C\u53C2\u6570\u7C7B\u578B\u5B8C\u5168\u4F9D\u7167 rollup\uFF0C\u4F46\u5E76\u6CA1\u6709\u5168\u90E8\u63A5\u53D7 rollup \u7684 hook \u51FD\u6570\u3002\u76EE\u524D\u53EA\u4F7F\u7528\u4E86 rollup \u7684 <a href="https://cn.vitejs.dev/guide/api-plugin.html#universal-hooks" target="_blank" rel="noopener noreferrer">7 \u4E2A hook \u51FD\u6570</a>\uFF0C\u53E6\u5916\u63D0\u4F9B\u4E86 vite \u72EC\u6709\u7684 <a href="https://cn.vitejs.dev/guide/api-plugin.html#vite-specific-hooks" target="_blank" rel="noopener noreferrer">5 \u4E2A hook \u51FD\u6570</a></strong></p><p><a href="https://rollupjs.org/guide/en/#build-hooks" target="_blank" rel="noopener noreferrer">rollup build-hooks</a> \u5206\u56DB\u79CD\u79CD\u7C7B\uFF1A</p><ul><li><p><code>async</code>\uFF1A\u8FD4\u56DE\u89E3\u6790\u7C7B\u578B\u4E3A Promise \u7684\u5F02\u6B65 hook</p></li><li><p><code>first</code>\uFF1A\u82E5\u591A\u4E2A\u63D2\u4EF6\u5B9E\u73B0\u4E86\u8FD9\u4E2A hook \u51FD\u6570\uFF0C\u5B83\u4EEC\u4F1A\u6309\u6307\u5B9A\u7684\u63D2\u4EF6\u987A\u5E8F\u4E32\u884C\u6267\u884C\uFF0C\u76F4\u5230\u4E00\u4E2A hook \u8FD4\u56DE\u7684\u4E0D\u662F <code>null</code> \u6216 <code>undefined</code>\uFF08\u4E5F\u5C31\u662F\u8BF4\u4F1A\u5B58\u5728\u5728\u67D0\u4E2A\u63D2\u4EF6\u7EC8\u6B62\u7684\u60C5\u51B5\uFF09</p></li><li><p><code>sequential</code>\uFF1A\u82E5\u591A\u4E2A\u63D2\u4EF6\u90FD\u5B9E\u73B0\u4E86\u8FD9\u4E2A hook \u51FD\u6570\uFF0C\u5B83\u4EEC\u4F1A\u6309\u6307\u5B9A\u7684\u63D2\u4EF6\u987A\u5E8F\u4E32\u884C\u6267\u884C\u3002\u5982\u679C\u67D0\u4E2A hook \u662F\u5F02\u6B65\u7684\uFF0C\u540E\u7EED\u7684 hook \u4F1A\u7B49\u5F85\u5F53\u524D hook \u6267\u884C\u7ED3\u675F\u518D\u7EE7\u7EED\u8FD0\u884C</p></li><li><p><code>parallel</code>\uFF1A\u82E5\u591A\u4E2A\u63D2\u4EF6\u90FD\u5B9E\u73B0\u4E86\u8FD9\u4E2A hook \u51FD\u6570\uFF0C\u5B83\u4EEC\u4F1A\u6309\u6307\u5B9A\u7684\u63D2\u4EF6\u987A\u5E8F\u4E32\u884C\u6267\u884C\u3002\u5982\u679C\u67D0\u4E2A hook \u662F\u5F02\u6B65\u7684\uFF0C\u540E\u7EED\u7684\u8FD9\u79CD hook \u51FD\u6570\u5C06\u5E76\u884C\u8FD0\u884C\uFF0C\u800C\u4E0D\u662F\u7B49\u5F85\u5F53\u524D\u7684 hook \u6267\u884C\u7ED3\u675F</p></li></ul><h5 id="\u4E00\u4E2A\u5B8C\u6574\u7684\u63D2\u4EF6\u793A\u4F8B" tabindex="-1">\u4E00\u4E2A\u5B8C\u6574\u7684\u63D2\u4EF6\u793A\u4F8B <a class="header-anchor" href="#\u4E00\u4E2A\u5B8C\u6574\u7684\u63D2\u4EF6\u793A\u4F8B" aria-hidden="true">#</a></h5><p>\u63D2\u4EF6\u672C\u8D28\u4E0A\u5C31\u662F\u4E00\u4E2A\u5B9E\u73B0\u4E86\u5404\u4E2A hook \u7684\u5BF9\u8C61\uFF0C\u6309 hook \u7684\u4F7F\u7528\u987A\u5E8F\u5982\u4E0B\u6392\u5217\uFF1A</p><div class="language-ts"><pre><code><span class="token keyword">const</span> vitePlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;vite-plugin-sure&#39;</span> <span class="token comment">/* \u3010\u5FC5\u987B\u3011\u7684\u63D2\u4EF6\u540D\u79F0\uFF0C\u7528\u4E8E\u9519\u8BEF\u6D88\u606F\u548C\u8B66\u544A */</span><span class="token punctuation">,</span>
  apply<span class="token operator">:</span> <span class="token string">&#39;build&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;serve&#39;</span> <span class="token comment">/* \u8868\u660E\u6B64\u63D2\u4EF6\u7684\u8FD0\u884C\u6A21\u5F0F */</span><span class="token punctuation">,</span>
  enforce<span class="token operator">:</span> <span class="token string">&#39;post&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;pre&#39;</span> <span class="token comment">/* \u63D2\u4EF6\u6392\u5E8F */</span><span class="token punctuation">,</span>

  <span class="token comment">/*  */</span>
  <span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div>__VP_STATIC_END__`,10),p=[t];function l(r,i,c,u,k,d){return o(),e("div",null,p)}var _=n(s,[["render",l]]);export{g as __pageData,_ as default};
